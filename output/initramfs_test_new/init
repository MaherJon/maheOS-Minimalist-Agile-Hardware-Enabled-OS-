#!/bin/busybox sh

# 挂载必要的文件系统
/bin/busybox mount -t proc none /proc
/bin/busybox mount -t sysfs none /sys
/bin/busybox mount -t tmpfs none /tmp

# 创建必要的设备节点
/bin/busybox mknod -m 666 /dev/null c 1 3
/bin/busybox mknod -m 600 /dev/console c 5 1

# 启动串口控制台（如果需要）
if [ -c /dev/ttyS0 ]; then
  /bin/busybox ash --login > /dev/ttyS0 2>&1
fi

# 启动默认 shell
exec /bin/busybox ash --login
